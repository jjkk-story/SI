
<html>
<head>
    <title>서울연구데이터</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Noto+Sans+KR&display=swap" rel="stylesheet">
    <link href="https://data.si.re.kr/R/css/sichart.css" rel="stylesheet">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script>
        window.onresize = function() {
            drawVisualization();
        };
        window.onload = function(){
            if(window.innerHeight < window.innerWidth){
            	$("#chart0_div").height(window.innerHeight - 10);
            }else{
                $("#chart0_div").height(window.innerHeight - 14);
            }
        }

    </script>
</head>

<body>
    <div class="container">
 
        <!-- Content -->
        <div id="main-content" class="content">
            <div id="dashboard0_div">
                <div id="filter0_div" class="filter_div" style="display: none;"></div>
                <div id="chart0_div" style="width: 100%; height: 80vh; float: left;"></div>
            </div>
        </div>  
<script type="text/javascript">
        google.load("visualization", "1", {packages:["corechart", "controls", "table"]});
        google.setOnLoadCallback(drawVisualization);

        //////////////////// data ///////////////////////////////////////////

 
var colName0 =  ["c2","1.버스","2.지하철","3.승용차","4.택시","5.기타"] 
var dataRaw0 =  [[1996,30.0647,29.4353,24.5647,10.4353,5.5],[2002,25.9594,34.6518,26.896,7.3953,5.0975],[2004,26.2095,35.7698,26.3677,6.6273,5.0257],[2005,27.4577,34.7858,26.3385,6.5024,4.9155],[2006,27.6189,34.7448,26.2502,6.2829,5.1032],[2007,27.6579,34.9476,26.1599,6.2139,5.0206],[2008,27.8325,35.0019,25.9746,6.1853,5.0057],[2009,27.8077,35.1759,25.8608,6.2007,4.9549],[2010,28.0725,36.235,24.0796,7.177,4.4359],[2011,27.9536,37.1334,23.5503,7.0002,4.3626],[2012,27.3655,38.1804,23.1477,6.9238,4.3826],[2013,27.1036,38.8424,22.8657,6.8274,4.3609],[2014,27.0152,38.9764,22.8242,6.7882,4.396],[2015,26.4386,39.2274,23.0385,6.8495,4.446],[2016,26.0926,38.8944,24.3221,6.568,4.1228],[2017,25.0906,39.9108,24.3596,6.5258,4.1131],[2018,24.4108,40.7095,24.4387,6.3043,4.1367],[2019,24.0004,41.577,24.501,5.6775,4.2441],[2020,21.7232,39.7253,28.524,5.3138,4.7137]] 
var filterLabel = "c2";
var webFolder = "trfc_md_shr_seoul_bar";
var chartTitle = "서울시 교통수단별 수단분담률";
var colorSet = ["#6C584C","#A98467","#ADC178","#DDE5B6","#F0EAD2"];
var fontSize0 = 10;
var fontColor0 = "#999999";
var bStacked = true;
var barWidth = "50%";
var aniChartType = "v";
var axTitle = "(%)";
var isTotal = "F";
var max0 = 100;
var min0 = 0; 
        //////////////////// chart //////////////////////////////////////////



        var fontName0 = "Noto Sans KR";
        var textStyle0 = {
            fontName: fontName0,
            fontSize: fontSize0,
            color: fontColor0
        };
        var textStyleLegend = {
            fontName: fontName0,
            fontSize: 12,
            color: "#404c6a"
        };



        var dataArr0 = [];
        dataArr0.push(colName0);
        for (var i in dataRaw0) {
            dataArr0.push(dataRaw0[i]);
        }


        if (isTotal == "T"){
            var dataArr1a = [];
            dataArr1a.push(colName1a);
            for (var i in dataRaw1a) {
                dataArr1a.push(dataRaw1a[i]);
            }
            var dataArr2a = [];
            dataArr2a.push(colName2a);
            for (var i in dataRaw2a) {
                dataArr2a.push(dataRaw2a[i]);
            }
        }



        function drawVisualization() {
            drawChartRegion(dataArr0, min0, max0);

        }

        function drawChartRegion(regionData, amin, amax) {
            var yearPattern = "####";
            var formatNumber = new google.visualization.NumberFormat({
                pattern: yearPattern
            });



            var data = google.visualization.arrayToDataTable(regionData);


            formatNumber.format(data, 0);

            var dashboard0 = new google.visualization.Dashboard(document.getElementById("dashboard0_div"));

            var options0 = {};
            var mChartType = "";
            if (aniChartType == "v"){
                options0 = {
                    chartArea: {
                        width: "85%",
                        height: "90%"
                    },
                    colors: colorSet,
                    focusTarget : "category",
                    bar: {
                            groupWidth: barWidth,
                        },
                    hAxis: {
                        textStyle: textStyle0,
                        format: "####",
                    },
                    vAxis: {
                        viewWindow: {
                            max: max0,
                            min: min0
                        },
                        textStyle: textStyle0,
                        title: axTitle,
                        titleTextStyle: textStyleLegend,
                        format: "####.##",
                    },
                    legend: {
                        textStyle: textStyleLegend,
                        position: "top"
                    },
                    tooltip: {
                        textStyle: textStyleLegend
                    },

                    animation: {
                        duration: 500,
                        easing: "out"
                    },
                    isStacked: bStacked,

                };
                mChartType = "ColumnChart";

            }else{

                options0 = {
                    chartArea: {
                        width: "85%",
                        height: "90%"
                    },
                    colors: colorSet,
                    focusTarget : "category",
                    bar: {
                            groupWidth: barWidth,
                        },
                    hAxis: {
                        viewWindow: {
                            max: max0,
                            min: min0
                        },
                        textStyle: textStyle0,
                        title: axTitle,
                        titleTextStyle: textStyleLegend,
                        format: "####.##",
                    },
                    vAxis: {
                        textStyle: textStyle0,
                        format: "####",
                    },
                    legend: {
                        textStyle: textStyleLegend,
                        position: "top"
                    },
                    tooltip: {
                        textStyle: textStyleLegend
                    },

                    animation: {
                        duration: 500,
                        easing: "out"
                    },
                    isStacked: bStacked,

                };
                mChartType = "BarChart";

            }

            var chart0 = new google.visualization.ChartWrapper({
                "chartType": mChartType,
                "containerId": "chart0_div",
                "options": options0
            });
            var table0 = new google.visualization.ChartWrapper({
                "chartType": "Table",
                "containerId": "table0_div",
            });

            var filter0 = new google.visualization.ControlWrapper({
                "controlType": "CategoryFilter",
                "containerId": "filter0_div",
                "options": {
                    "filterColumnLabel": filterLabel
                }
            })



            //////////////////////////////////////////////////
            //////////////////// series //////////////////////
            //////////////////////////////////////////////////
            var view = new google.visualization.DataView(data);
            //legend click
            var colu = [];
            var series = {};
            for (var i = 0; i < data.getNumberOfColumns(); i++) {
                colu.push(i);
                if (i > 0) {
                    series[i - 1] = {};
                }
            }

            //////////////////////////////////////////////////
            //////////////////////////////////////////////////
            //////////////////////////////////////////////////
            dashboard0.bind(filter0, [chart0]);
            dashboard0.draw(view);



        }

    </script>
 
</body>
</html>


